# Scholaria RAG System - Environment Configuration
# Copy this file to .env and update values for your deployment

# =============================================================================
# REQUIRED SETTINGS (MUST be changed for production)
# =============================================================================

# Django Configuration - Generate with: python -c 'from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())'
SECRET_KEY=your-very-long-random-secret-key-here-change-this-in-production

# Environment (development/production)
DEBUG=True
ALLOWED_HOSTS=localhost,127.0.0.1

# OpenAI API (Required for embeddings and chat) - Get from https://platform.openai.com/api-keys
OPENAI_API_KEY=your_openai_api_key_here

# Database Security - Use strong passwords in production
DB_PASSWORD=your_secure_database_password

# Object Storage Security - Change default credentials in production
MINIO_ACCESS_KEY=your_minio_access_key
MINIO_SECRET_KEY=your_minio_secret_key

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

DB_ENGINE=django.db.backends.postgresql
DB_NAME=scholaria
DB_USER=postgres
DB_HOST=localhost
DB_PORT=5432

# =============================================================================
# CACHE AND QUEUE (REDIS)
# =============================================================================

REDIS_URL=redis://localhost:6379/0

# =============================================================================
# VECTOR DATABASE (QDRANT)
# =============================================================================

QDRANT_HOST=localhost
QDRANT_PORT=6333
QDRANT_COLLECTION_NAME=scholaria_documents

# =============================================================================
# OBJECT STORAGE (MINIO) - For PDF file storage
# =============================================================================

MINIO_ENDPOINT=localhost:9000
MINIO_BUCKET_NAME=scholaria-docs
MINIO_SECURE=False

# =============================================================================
# AUTHENTICATION (JWT)
# =============================================================================

# JWT Secret Key - Generate with: python -c 'import secrets; print(secrets.token_urlsafe(32))'
JWT_SECRET_KEY=your-jwt-secret-key-change-in-production

# JWT Algorithm (HS256 recommended)
JWT_ALGORITHM=HS256

# JWT Token Expiration (hours)
JWT_ACCESS_TOKEN_EXPIRE_HOURS=24

# =============================================================================
# FASTAPI CONFIGURATION
# =============================================================================

# CORS Allowed Origins (comma-separated)
# Development default allows localhost ports commonly used for frontend dev servers
FASTAPI_ALLOWED_ORIGINS=http://localhost:8000,http://localhost:3000,http://localhost:5173

# Production example (update to match your domain):
# FASTAPI_ALLOWED_ORIGINS=https://yourdomain.com,https://admin.yourdomain.com

# =============================================================================
# AI MODEL CONFIGURATION
# =============================================================================

# Embedding Model Settings
OPENAI_EMBEDDING_MODEL=text-embedding-3-large
OPENAI_EMBEDDING_DIM=3072

# Chat Model Settings
OPENAI_CHAT_MODEL=gpt-4o-mini
OPENAI_CHAT_TEMPERATURE=0.3
OPENAI_CHAT_MAX_TOKENS=1000

# =============================================================================
# PERFORMANCE AND CACHING
# =============================================================================

# Enable embedding cache to reduce API costs and improve performance
LLAMAINDEX_CACHE_ENABLED=true
LLAMAINDEX_CACHE_DIR=storage/llamaindex_cache
LLAMAINDEX_CACHE_NAMESPACE=scholaria-default

# RAG Search Configuration
RAG_SEARCH_LIMIT=10
RAG_RERANK_TOP_K=5

# =============================================================================
# DOCUMENT PROCESSING
# =============================================================================

# File Upload Limits (10MB default = 10485760 bytes)
FILE_VALIDATION_MAX_SIZE=10485760

# =============================================================================
# DEVELOPMENT ENVIRONMENT EXAMPLES
# =============================================================================
# Use these values for local development:

# For local development (default values):
# DB_HOST=localhost
# REDIS_URL=redis://localhost:6379/0
# QDRANT_HOST=localhost
# MINIO_ENDPOINT=localhost:9000
# DEBUG=True

# =============================================================================
# DOCKER COMPOSE ENVIRONMENT
# =============================================================================
# For Docker deployments, use service names instead of localhost:

# DB_HOST=postgres
# REDIS_URL=redis://redis:6379/0
# QDRANT_HOST=qdrant
# MINIO_ENDPOINT=minio:9000
# DEBUG=False

# =============================================================================
# OPTIONAL SETTINGS (with sensible defaults)
# =============================================================================

# Time zone setting (default: Asia/Seoul)
# TIME_ZONE=Asia/Seoul

# Language setting (default: ko-kr for Korean)
# LANGUAGE_CODE=ko-kr

# Static files configuration (defaults work for most setups)
# STATIC_URL=/static/
# STATIC_ROOT=staticfiles
