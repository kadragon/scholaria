# Scholaria RAG System - Environment Configuration
# Copy this file to .env and update values for your deployment

# =============================================================================
# REQUIRED SETTINGS
# =============================================================================

# Django Configuration
SECRET_KEY=your-very-long-random-secret-key-here-change-this-in-production
DEBUG=False

# OpenAI API (Required for embeddings and chat)
OPENAI_API_KEY=your_openai_api_key

# Database Security
DB_PASSWORD=your_secure_database_password

# Object Storage Security
MINIO_ACCESS_KEY=your_minio_access_key
MINIO_SECRET_KEY=your_minio_secret_key

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

DB_ENGINE=django.db.backends.postgresql
DB_NAME=scholaria
DB_USER=postgres
DB_HOST=localhost
DB_PORT=5432

# =============================================================================
# CACHE AND QUEUE (REDIS)
# =============================================================================

REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_URL=redis://localhost:6379/0

# =============================================================================
# VECTOR DATABASE (QDRANT)
# =============================================================================

QDRANT_HOST=localhost
QDRANT_PORT=6333
QDRANT_COLLECTION_NAME=scholaria_documents

# =============================================================================
# OBJECT STORAGE (MINIO)
# =============================================================================

MINIO_ENDPOINT=localhost:9000
MINIO_BUCKET_NAME=scholaria-docs
MINIO_SECURE=False

# =============================================================================
# AI MODEL CONFIGURATION
# =============================================================================

# Embedding Model Settings
OPENAI_EMBEDDING_MODEL=text-embedding-3-large
OPENAI_EMBEDDING_DIM=3072

# Chat Model Settings
OPENAI_CHAT_MODEL=gpt-4o-mini
OPENAI_CHAT_TEMPERATURE=0.3
OPENAI_CHAT_MAX_TOKENS=1000

# =============================================================================
# PERFORMANCE AND CACHING
# =============================================================================

# Enable embedding cache to reduce API costs
LLAMAINDEX_CACHE_ENABLED=true
LLAMAINDEX_CACHE_DIR=storage/llamaindex_cache
LLAMAINDEX_CACHE_NAMESPACE=scholaria-production

# RAG Search Configuration
RAG_SEARCH_LIMIT=10
RAG_RERANK_TOP_K=5

# =============================================================================
# DOCUMENT PROCESSING
# =============================================================================

# Unstructured API for document parsing
UNSTRUCTURED_API_URL=http://localhost:8000

# File Upload Limits (10MB default)
FILE_VALIDATION_MAX_SIZE=10485760

# =============================================================================
# DOCKER COMPOSE OVERRIDES
# =============================================================================
# For Docker deployments, use service names instead of localhost:

# DB_HOST=postgres
# REDIS_HOST=redis
# REDIS_URL=redis://redis:6379/0
# QDRANT_HOST=qdrant
# MINIO_ENDPOINT=minio:9000
