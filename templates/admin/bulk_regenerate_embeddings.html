{% extends "admin/base_site.html" %}
{% load admin_urls static admin_modify %}

{% block title %}{{ title }}{% endblock %}

{% block content %}
<h1>{{ title }}</h1>

<form method="post">
    {% csrf_token %}

    <p>{{ description }}</p>

    <p>You have selected {{ queryset.count }} context item(s) for embedding regeneration:</p>

    <ul>
        {% for item in queryset %}
            <li>{{ item.title }} ({{ item.context.name }})</li>
        {% endfor %}
    </ul>

    <div class="form-row">
        <p><strong>Warning:</strong> This operation will:</p>
        <ul>
            <li>Regenerate embeddings for all selected items</li>
            <li>Update vector database entries</li>
            <li>May take several minutes to complete</li>
        </ul>
    </div>

    <div class="submit-row">
        <input type="submit" name="confirm" value="Regenerate Embeddings" class="default" />
        <a href="../" class="cancel-link">Cancel</a>
    </div>
</form>
{% endblock %}
