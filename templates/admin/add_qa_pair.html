{% extends "admin/base_site.html" %}
{% load i18n %}

{% block title %}{{ title }}{% endblock %}

{% block breadcrumbs %}
<div class="breadcrumbs">
    <a href="{% url 'admin:index' %}">{% trans 'Home' %}</a>
    &rsaquo; <a href="{% url 'admin:rag_context_changelist' %}">Contexts</a>
    &rsaquo; {{ title }}
</div>
{% endblock %}

{% block content %}
<h1>{{ title }}</h1>

<p>{{ description }}</p>

<div class="module">
    <h2>Selected FAQ Contexts</h2>
    <ul>
        {% for context in queryset %}
            <li><strong>{{ context.name }}</strong> - {{ context.description }}</li>
        {% endfor %}
    </ul>
</div>

<form action="" method="post">
    {% csrf_token %}

    <!-- Hidden fields required for Django Admin Actions -->
    <input type="hidden" name="action" value="{{ action }}" />
    {% for context in queryset %}
        <input type="hidden" name="_selected_action" value="{{ context.pk }}" />
    {% endfor %}

    <div class="module">
        <h2>Add Q&A Pair</h2>

        <div class="form-row">
            <div>
                <label for="id_question" class="required">Question:</label>
                <textarea name="question" id="id_question" rows="3" cols="80" required></textarea>
                <p class="help">Enter the question text.</p>
            </div>
        </div>

        <div class="form-row">
            <div>
                <label for="id_answer" class="required">Answer:</label>
                <textarea name="answer" id="id_answer" rows="5" cols="80" required></textarea>
                <p class="help">Enter the answer text.</p>
            </div>
        </div>

        <div class="submit-row">
            <input type="submit" value="Add Q&A Pair" class="default" />
            <p class="deletelink-box"><a href="{% url 'admin:rag_context_changelist' %}" class="deletelink">Cancel</a></p>
        </div>
    </div>
</form>
{% endblock %}
